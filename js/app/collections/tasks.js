define(["backbone","app/models/task","backbone.dropbox"],function(Backbone,Task){"use strict";var Tasks=Backbone.Collection.extend({model:Task,dropboxDatastore:new Backbone.DropboxDatastore("tasks"),initialize:function(){var tasks=this;this.dropboxDatastore.syncCollection(this),this.fetch(),tasks.on("change:running",function(model,running){running&&_.each(tasks.where({running:!0}),function(task){this!==task&&task.stopTimer()},model)}),this.on("change",_.debounce(function(model){var shouldSaveChange=!1;_.each(model.changed,function(val,key){model.whitelist.indexOf(key)>-1&&(shouldSaveChange=!0)}),shouldSaveChange&&model.save()},500)),tasks.on("remove",function(model){model.destroy()})}});return Tasks});
//# sourceMappingURL=tasks.js.map